<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#dashboard" data-module="dashboard">Dashboard</a></li>
                    <li class="breadcrumb-item active">Cloud C2</li>
                </ol>
            </nav>
            <h1 class="module-title">Cloud C2</h1>
            <p class="module-description">Cloud Command & Control for remote management and monitoring.</p>
        </div>
    </div>

    <!-- Cloud C2 Status -->
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card status-card">
                <div class="card-body text-center">
                    <i class="bi bi-cloud text-primary display-4 mb-2"></i>
                    <h3 id="connection-status">Disconnected</h3>
                    <p class="text-muted">Connection Status</p>
                    <span class="badge badge-danger">Offline</span>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card status-card">
                <div class="card-body text-center">
                    <i class="bi bi-upload text-success display-4 mb-2"></i>
                    <h3 id="data-uploaded">0 MB</h3>
                    <p class="text-muted">Data Uploaded</p>
                    <small class="text-muted">Last 24h</small>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card status-card">
                <div class="card-body text-center">
                    <i class="bi bi-clock text-info display-4 mb-2"></i>
                    <h3 id="uptime">0h 0m</h3>
                    <p class="text-muted">Connection Uptime</p>
                    <small class="text-muted">Since last connect</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Cloud C2 Tabs -->
    <div class="card">
        <div class="card-header">
            <ul class="nav nav-tabs card-header-tabs" id="cloudTabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="overview-tab" data-toggle="tab" href="#overview" role="tab">
                        <i class="bi bi-cloud"></i> Cloud C²
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="connecting-tab" data-toggle="tab" href="#connecting" role="tab">
                        <i class="bi bi-link"></i> Connecting to Cloud C²
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pineapple-tab" data-toggle="tab" href="#pineapple" role="tab">
                        <i class="bi bi-device-ssd"></i> WiFi Pineapple and Cloud C²
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="disconnecting-tab" data-toggle="tab" href="#disconnecting" role="tab">
                        <i class="bi bi-unlink"></i> Disconnecting from Cloud C²
                    </a>
                </li>
            </ul>
        </div>

        <div class="card-body">
            <div class="tab-content" id="cloudTabContent">
                <!-- Cloud C² Overview Tab -->
                <div class="tab-pane fade show active" id="overview" role="tabpanel">
                    <h5>Cloud C² Overview</h5>
                    <div class="row">
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Cloud C² Features</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><i class="bi bi-globe text-primary"></i> Remote Access</h6>
                                            <p class="small text-muted">Access your WiFi Pineapple from anywhere in the world through secure cloud infrastructure.</p>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="bi bi-shield-check text-success"></i> Secure Communication</h6>
                                            <p class="small text-muted">End-to-end encrypted communication ensures your data remains private and secure.</p>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-md-6">
                                            <h6><i class="bi bi-graph-up text-info"></i> Real-time Monitoring</h6>
                                            <p class="small text-muted">Monitor your Pineapple's status, campaigns, and activities in real-time from any device.</p>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="bi bi-cloud-download text-warning"></i> Automatic Backups</h6>
                                            <p class="small text-muted">Automatic backup of logs, configurations, and campaign data to the cloud.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Quick Actions</h6>
                                </div>
                                <div class="card-body">
                                    <button class="btn btn-success btn-block mb-2" id="connect-cloud">
                                        <i class="bi bi-cloud-arrow-up"></i> Connect to Cloud C²
                                    </button>
                                    <button class="btn btn-primary btn-block mb-2" id="view-dashboard">
                                        <i class="bi bi-display"></i> View Cloud Dashboard
                                    </button>
                                    <button class="btn btn-info btn-block mb-2" id="sync-data">
                                        <i class="bi bi-arrow-repeat"></i> Sync Data
                                    </button>
                                    <button class="btn btn-outline-secondary btn-block" id="cloud-settings">
                                        <i class="bi bi-gear"></i> Cloud Settings
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Connecting to Cloud C² Tab -->
                <div class="tab-pane fade" id="connecting" role="tabpanel">
                    <h5>Connecting to Cloud C²</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Connection Setup</h6>
                                </div>
                                <div class="card-body">
                                    <form id="cloud-connection-form">
                                        <div class="form-group">
                                            <label>Cloud C² Server</label>
                                            <input type="text" class="form-control" placeholder="cloudc2.hak5.org" required>
                                        </div>
                                        <div class="form-group">
                                            <label>API Key</label>
                                            <input type="password" class="form-control" placeholder="Enter your API key" required>
                                            <small class="form-text text-muted">Get your API key from the Cloud C² dashboard</small>
                                        </div>
                                        <div class="form-group">
                                            <label>Device Name</label>
                                            <input type="text" class="form-control" placeholder="My Pineapple" value="WiFi Pineapple">
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="auto-connect">
                                            <label class="form-check-label" for="auto-connect">
                                                Auto-connect on boot
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="enable-encryption" checked disabled>
                                            <label class="form-check-label" for="enable-encryption">
                                                Enable encryption (required)
                                            </label>
                                        </div>
                                        <button type="submit" class="btn btn-success btn-block">
                                            <i class="bi bi-link"></i> Connect to Cloud C²
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Connection Status</h6>
                                </div>
                                <div class="card-body">
                                    <div class="connection-status-display">
                                        <div class="status-item">
                                            <i class="bi bi-circle-fill text-danger"></i>
                                            <span>Cloud Server</span>
                                            <span class="badge badge-danger">Disconnected</span>
                                        </div>
                                        <div class="status-item">
                                            <i class="bi bi-circle-fill text-warning"></i>
                                            <span>Authentication</span>
                                            <span class="badge badge-warning">Pending</span>
                                        </div>
                                        <div class="status-item">
                                            <i class="bi bi-circle-fill text-muted"></i>
                                            <span>Data Sync</span>
                                            <span class="badge badge-secondary">Inactive</span>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="connection-logs">
                                        <h6>Connection Logs</h6>
                                        <div class="log-entries small">
                                            <div class="log-entry text-muted">Waiting for connection...</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- WiFi Pineapple and Cloud C² Tab -->
                <div class="tab-pane fade" id="pineapple" role="tabpanel">
                    <h5>WiFi Pineapple and Cloud C² Integration</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Device Information</h6>
                                </div>
                                <div class="card-body">
                                    <div class="device-info">
                                        <div class="info-row">
                                            <strong>Device ID:</strong> <code>WP-ABC123</code>
                                        </div>
                                        <div class="info-row">
                                            <strong>Firmware:</strong> v2.7.0
                                        </div>
                                        <div class="info-row">
                                            <strong>Hardware:</strong> WiFi Pineapple Mark VII
                                        </div>
                                        <div class="info-row">
                                            <strong>IP Address:</strong> 192.168.1.100
                                        </div>
                                        <div class="info-row">
                                            <strong>MAC Address:</strong> 00:11:22:33:44:55
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Cloud Integration Features</h6>
                                </div>
                                <div class="card-body">
                                    <div class="feature-list">
                                        <div class="feature-item">
                                            <i class="bi bi-check-circle text-success"></i>
                                            <span>Remote firmware updates</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="bi bi-check-circle text-success"></i>
                                            <span>Real-time command execution</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="bi bi-check-circle text-success"></i>
                                            <span>Automated data collection</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="bi bi-check-circle text-success"></i>
                                            <span>Secure remote access</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="bi bi-check-circle text-success"></i>
                                            <span>Campaign management</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="bi bi-check-circle text-success"></i>
                                            <span>Log synchronization</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Data Synchronization</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="sync-item text-center">
                                                <i class="bi bi-file-earmark-text display-4 text-primary"></i>
                                                <h6>Logs</h6>
                                                <small class="text-muted">Campaign logs and system events</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="sync-item text-center">
                                                <i class="bi bi-flag display-4 text-success"></i>
                                                <h6>Campaigns</h6>
                                                <small class="text-muted">Campaign configurations and results</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="sync-item text-center">
                                                <i class="bi bi-gear display-4 text-info"></i>
                                                <h6>Settings</h6>
                                                <small class="text-muted">Device configuration backups</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="sync-item text-center">
                                                <i class="bi bi-graph-up display-4 text-warning"></i>
                                                <h6>Analytics</h6>
                                                <small class="text-muted">Performance metrics and statistics</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Disconnecting from Cloud C² Tab -->
                <div class="tab-pane fade" id="disconnecting" role="tabpanel">
                    <h5>Disconnecting from Cloud C²</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Disconnect Options</h6>
                                </div>
                                <div class="card-body">
                                    <div class="disconnect-options">
                                        <div class="option-item">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="disconnect-type" id="graceful-disconnect" checked>
                                                <label class="form-check-label" for="graceful-disconnect">
                                                    <strong>Graceful Disconnect</strong>
                                                    <br><small class="text-muted">Sync all pending data before disconnecting</small>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="option-item">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="disconnect-type" id="immediate-disconnect">
                                                <label class="form-check-label" for="immediate-disconnect">
                                                    <strong>Immediate Disconnect</strong>
                                                    <br><small class="text-muted">Disconnect immediately without syncing</small>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="option-item">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="disconnect-type" id="emergency-disconnect">
                                                <label class="form-check-label" for="emergency-disconnect">
                                                    <strong>Emergency Disconnect</strong>
                                                    <br><small class="text-muted">Force disconnect and clear local cache</small>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="disconnect-actions">
                                        <button class="btn btn-warning btn-block" id="disconnect-btn">
                                            <i class="bi bi-unlink"></i> Disconnect from Cloud C²
                                        </button>
                                        <button class="btn btn-outline-danger btn-block" id="clear-cache-btn">
                                            <i class="bi bi-trash"></i> Clear Local Cache
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6>Disconnect Status</h6>
                                </div>
                                <div class="card-body">
                                    <div class="disconnect-status">
                                        <div class="status-item">
                                            <i class="bi bi-circle-fill text-success"></i>
                                            <span>Data Sync</span>
                                            <span class="badge badge-success">Complete</span>
                                        </div>
                                        <div class="status-item">
                                            <i class="bi bi-circle-fill text-warning"></i>
                                            <span>Connection</span>
                                            <span class="badge badge-warning">Disconnecting</span>
                                        </div>
                                        <div class="status-item">
                                            <i class="bi bi-circle-fill text-muted"></i>
                                            <span>Cache Cleanup</span>
                                            <span class="badge badge-secondary">Pending</span>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="disconnect-logs">
                                        <h6>Disconnect Logs</h6>
                                        <div class="log-entries small">
                                            <div class="log-entry text-muted">Preparing to disconnect...</div>
                                            <div class="log-entry text-success">Data synchronization complete</div>
                                            <div class="log-entry text-warning">Terminating connection...</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
$(document).ready(function() {
    // Cloud connection handling
    $('#connect-cloud').on('click', function() {
        Helpers.showNotification('Attempting to connect to Cloud C²...', 'info');
        // Navigate to connecting tab
        $('#connecting-tab').tab('show');
    });

    $('#cloud-connection-form').on('submit', function(e) {
        e.preventDefault();
        Helpers.showNotification('Connecting to Cloud C²...', 'info');
        // Simulate connection process
        setTimeout(() => {
            Helpers.showNotification('Successfully connected to Cloud C²!', 'success');
            $('#connection-status').text('Connected').removeClass('text-danger').addClass('text-success');
        }, 2000);
    });

    $('#disconnect-btn').on('click', function() {
        Helpers.showNotification('Disconnecting from Cloud C²...', 'warning');
        setTimeout(() => {
            Helpers.showNotification('Disconnected from Cloud C²', 'info');
            $('#connection-status').text('Disconnected').removeClass('text-success').addClass('text-danger');
        }, 1500);
    });
});
</script>

<style>
.status-card {
    border: none;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.status-card .card-body {
    padding: 1.5rem;
}

.status-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0;
    border-bottom: 1px solid #f8f9fa;
}

.status-item:last-child {
    border-bottom: none;
}

.feature-item {
    display: flex;
    align-items: center;
    margin-bottom: 0.5rem;
}

.feature-item i {
    margin-right: 0.5rem;
    width: 16px;
}

.info-row {
    padding: 0.25rem 0;
    border-bottom: 1px solid #f8f9fa;
}

.info-row:last-child {
    border-bottom: none;
}

.sync-item {
    padding: 1rem;
}

.option-item {
    margin-bottom: 1rem;
    padding: 1rem;
    border: 1px solid #e9ecef;
    border-radius: 0.25rem;
}

.log-entries {
    max-height: 200px;
    overflow-y: auto;
    background-color: #f8f9fa;
    padding: 0.5rem;
    border-radius: 0.25rem;
}

.log-entry {
    margin-bottom: 0.25rem;
}
</style>
